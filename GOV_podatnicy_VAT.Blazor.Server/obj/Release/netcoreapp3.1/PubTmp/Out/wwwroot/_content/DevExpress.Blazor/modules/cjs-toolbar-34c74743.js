DxBlazorInternal.define("cjs-toolbar-34c74743.js",(function(t,e,i){t("./cjs-chunk-c5286524.js"),t("./cjs-chunk-0da7e9be.js");var o=t("./cjs-dom-utils-d155391a.js");t("./cjs-chunk-ad620f3e.js");var n=t("./cjs-chunk-d0f692d0.js");t("./cjs-chunk-96905969.js");var r=t("./cjs-focus-utils-48b0e7fd.js"),s=t("./cjs-chunk-62a77fef.js"),u=window.console,a=function(t,e){if(!e)throw new Error("Collection should be able to create item");this.items=[],this.itemCreateFunc=e,this.subscriptions=[],this.isLocked=!1,this.isCollection=!0,this.subjectsCache={},t&&this.addRange(t)};a.prototype.subscribe=function(t){this.isLocked||t(this.getChanges(this.items)),this.subscriptions.push(t)},a.prototype.getChanges=function(t,e){return{addedItems:t||[],removedItems:e||[]}},a.prototype.forEach=function(t){this.items.forEach(t)},a.prototype.selectMany=function(t){return this.map(t).reduce((function(t,e){return t.concat(e.items||e)}),[])},a.prototype.reduce=function(t,e){return this.items.reduce(t)},a.prototype.map=function(t){return this.items.map(t)},a.prototype.filter=function(t){return this.items.filter(t)},a.prototype.any=function(){return this.count()>0},a.prototype.count=function(){return this.items.length},a.prototype.countAsSubject=function(){return this.getMethodAsSubject(this.count)},a.prototype.withSorting=function(t){return new window.Components.SortedCollection(this,t)},a.prototype.withGrouping=function(t){return new window.Components.GroupedCollection(this,t)},a.prototype.withFilter=function(t){return new window.Components.FilteredCollection(this,t)},a.prototype.withMapping=function(t){return new window.Components.MappedCollection(this,t)},a.prototype.anyAsSubject=function(t){return t?this.withFilter(t).anyAsSubject():this.getMethodAsSubject(this.any)},a.prototype.getMethodAsSubject=function(t){if(!this.subjectsCache[t]){var e=t.bind(this),i=this.subjectsCache[t]=new window.Components.Subject(e());this.subscribe((function(){i.setValue(e())}))}return this.subjectsCache[t]},a.prototype.get=function(t){return this.items[t]},a.prototype.add=function(t){this.addItemCore(t)&&this.raiseChanges([t],[])},a.prototype.remove=function(t){this.removeItemCore(t)&&this.raiseChanges([],[t])},a.prototype.addRange=function(t){this.raiseChanges(t.map(this.addItemCore.bind(this)).filter((function(t){return!!t})),[])},a.prototype.removeRange=function(t){this.raiseChanges([],t.map(this.removeItemCore.bind(this)).filter((function(t){return!!t})))},a.prototype.addItemCore=function(t){return this.items.indexOf(t)>-1?null:this.items[this.items.length]=t},a.prototype.removeItemCore=function(t){var e=this.items.indexOf(t);return-1===e?null:this.items.splice(e,1)},a.prototype.raiseChanges=function(t,e){var i=this.getChanges(t,e);(i.addedItems.length>0||i.removedItems.length>0)&&this.subscriptions.forEach((function(t){t(i)}))},a.prototype.serialize=function(){var t=Array(this.items.length),e=!1,i=window.getIndexSequence(this.items.length-1);return(e=window.serialize(this.items,t,i)||e)?t:void 0},a.prototype.update=function(t){var e=t.length<this.items.length?this.items.splice(t.length):[],i=window.getIndexSequence(Math.max(-1,t.length-this.items.length-1)).map(function(e){var i=e+this.items.length;return this.itemCreateFunc(i,t[i])}.bind(this));this.items=this.items.concat(i),window.deserialize(t,this.items,window.getIndexSequence(this.items.length-1)),this.raiseChanges(i,e)},a.prototype.lock=function(){this.isLocked=!0},a.prototype.unlock=function(){this.isLocked=!1};var c=function(t,e,i){this.block=e,this.layer=t,this.width=0,i.subscribe(e,function(t,i){null===t&&(t=this.layer.getPrevLayer().getActualBlocks().filter((function(t){return t.block===e}))[0].width),t!==this.width&&(this.width=t,i||this.layer.requestUpdateLayoutModel())}.bind(this))};c.prototype.getMinWidth=function(){return this.width},c.prototype.getMaxWidth=function(){return this.getMinWidth()};var l=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getMaxWidth=function(t){return t===this.layer?this.layer.getPrevLayer().getActualBlocks().filter(function(t){return t.block===this.block}.bind(this))[0].getMinWidth():this.getMinWidth()},e}(c),p=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(c),h=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(c),d=function(t,e){this.widthCalculator=t,this.triggersResolver=e};d.prototype.subscribe=function(t,e){var i=this.widthCalculator.bind(this);this.triggersResolver(t).forEach((function(n){n.subscribe((function(){t.isWidthCalculationLocked||o.calculateStyles((function(){e(i(t))}))}),!0)})),o.calculateStyles((function(){e(i(t),!0)}))};var f={fullWidthItem:new d((function(t){return t.getWidth()}),B),fullWidthSystemItem:new d((function(t){return t.getWidth()}),(function(t){return[]})),titleItem:new d((function(t){return t.getWidth()}),(function(t){return[t.toolbar.title.HasTitle,t.toolbar.title.Text]})),noTextItem:new d((function(t){return t.getNoTextWidth()}),B),contextItem:function(t){return new d((function(e){return t.items.filter((function(t){return"item"===t.getName()&&t.index<e.index&&t.isVisible()})).length>=e.toolbar.MinRootItems||!e.isVisible()?0:null}),B)},hiddenItem:new d((function(){return 0}),(function(){return[]}))},m=function(t,e,i,o){this.stateName=t,this.nextLayer=null,this.prevLayer=i,i&&(i.nextLayer=this),this.layoutBlocks=[],this.blockUpdaterGetter=e,this.latestRange=null,this.canApply=o};m.prototype.getNextLayer=function(){return null!=this.nextLayer?this.nextLayer.canApply()?this.nextLayer:this.nextLayer.getNextLayer():null},m.prototype.getPrevLayer=function(){return null!=this.prevLayer?this.prevLayer.canApply()?this.prevLayer:this.prevLayer.getPrevLayer():null},m.prototype.requestUpdateLayoutModel=function(){this.getPrevLayer().requestUpdateLayoutModel()},m.prototype.isValidWidth=function(t){if(!this.canApply())return!1;var e=this.getRange();return!this.getNextLayer()&&e.min>t||!this.getPrevLayer()&&e.max<t||e.min<=t&&e.max>=t},m.prototype.getRange=function(){return this.latestRange=this.getActualBlocks().reduce(function(t,e){return{min:t.min+e.getMinWidth(),max:t.max+e.getMaxWidth(this)}}.bind(this),{min:0,max:0})},m.prototype.getActualBlocks=function(){return this.getPrevLayer()?this.getPrevLayer().getActualBlocks().map(function(t){return this.layoutBlocks.filter((function(e){return e.block===t.block}))[0]||t}.bind(this)):this.layoutBlocks},m.prototype.activate=function(t){this.layoutBlocks.forEach(function(t){t.block.updateStateCore(this.stateName)}.bind(this))},m.prototype.addBlock=function(t){var e=this.blockUpdaterGetter(t);e&&this.layoutBlocks.push(this.createBlock(t,e))},m.prototype.removeBlock=function(t){},m.prototype.createBlock=function(t,e){};var y=function(t){function e(e,i,o,n){t.call(this,e,i,null,n),this.layoutModel=o}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.requestUpdateLayoutModel=function(){this.layoutModel.updateLayout()},e.prototype.createBlock=function(t,e){return new h(this,t,e)},e}(m),g=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.activate=function(t){for(var e=this.getActualBlocks(),i=this.latestRange.max,o=this.stateName,n=e.length-1;n>=0;n--){var r=e[n];if(i>t)if((i-=r.getMaxWidth(this)-r.getMinWidth())<=t){r.block.updateStateCore(o),o=this.getPrevLayer().stateName;continue}r.block.updateStateCore(o)}},e.prototype.getRange=function(){return this.latestRange=this.getActualBlocks().reduce(function(t,e){return{min:t.min+e.getMinWidth(),max:t.max+e.getMaxWidth(this)}}.bind(this),{min:0,max:0})},e.prototype.createBlock=function(t,e){return new l(this,t,e)},e}(m),b=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.createBlock=function(t,e){return new p(this,t,e)},e.prototype.getRange=function(){return this.latestRange={min:this.getActualBlocks().reduce((function(t,e){return t+e.getMinWidth()}),0),max:this.getPrevLayer().getRange().max-1}},e}(m),v=function(t){this.layers=[],this.currentWidth=null,this.onLayerApplied=t};v.prototype.initialize=function(t,e,i){var n=this;this.elementContentWidthSubscription=o.subscribeElementContentSize(e,(function(e){n.currentWidth===e.width&&n.currentHeight===e.height||(null===n.currentWidth&&t.subscribe(function(t){t.addedItems.forEach(this.addBlock.bind(this)),t.removedItems.forEach(this.removeBlock.bind(this))}.bind(n)),n.currentWidth=e.width,n.currentHeight=e.height,i&&i(e))}))},v.prototype.dispose=function(){this.elementContentWidthSubscription&&o.unsubscribeElement(this.elementContentWidthSubscription)},v.prototype.getLastLayer=function(){return this.layers[this.layers.length-1]||null},v.prototype.defaultLayer=function(t,e){this.layers.push(new y("default",t,this,e))},v.prototype.simultaneousTransitionLayer=function(t,e,i){this.layers.push(new b(t,e,this.getLastLayer(),i))},v.prototype.sequentialTransitionLayer=function(t,e,i){this.layers.push(new g(t,e,this.getLastLayer(),i))},v.prototype.addBlock=function(t){this.layers.forEach((function(e){e.addBlock(t)}))},v.prototype.removeBlock=function(t){this.layers.forEach((function(e){e.removeBlock(t)}))},v.prototype.updateLayout=function(){var t=this.findLayersForWidth(this.currentWidth);t.length>0&&this.applyLayer(t[0])},v.prototype.resetToDefault=function(){this.applyLayer(this.layers[0])},v.prototype.applyLayer=function(t){t.activate(this.currentWidth),this.onLayerApplied&&this.onLayerApplied(t)},v.prototype.findLayersForWidth=function(t){return this.layers.filter((function(e){return e.isValidWidth(t)}))},v.prototype.forceUpdate=function(){null!==this.currentWidth&&this.updateLayout()};var I=function(){this.state=null,this.isWidthCalculationLocked=!1};I.prototype.updateStateCore=function(t){this.state=t,this.updateState(t)},I.prototype.updateState=function(t){},I.prototype.getElement=function(){},I.prototype.getGlobalRefreshTrigger=function(){};var C=function(t){function e(e,i){t.call(this),this.element=i,this.toolbar=e}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getWidth=function(){return this.isVisible()?N(this.getElement()):0},e.prototype.isVisible=function(){return!0},e.prototype.getName=function(){},e.prototype.getElement=function(){return this.element},e.prototype.getGlobalRefreshTrigger=function(){return this.toolbar.RefreshTrigger},e}(I),w=function(t){function e(e,i){t.call(this,e),this.item=i,this.index=-1}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getElement=function(){return this.item.getElement()},e.prototype.updateState=function(t){this.item.IsDisplayed.update(t.indexOf("has-"+this.getName())>-1)},e}(C),x=function(t){function e(e,i){t.call(this,e,i)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getNoTextWidth=function(){return this.item.IsDisplayed.value?function(t){var e=N(t);if(t){var i=t.querySelector(".image");if(i){e-=V(i);for(var n=i;n=n.nextElementSibling;)o.elementHasCssClass(n,"popout")||"absolute"===o.getCurrentStyle(n).position||(e-=N(n))}}return e}(this.getElement()):0},e.prototype.getName=function(){return"item"},e.prototype.isVisible=function(){return this.item.IsDisplayed.value},e.prototype.updateState=function(t){var e=this.item.toolbar;this.updateVisible(e.MinRootItems>0?-1===t.indexOf("has-ellipsis")||this.index<e.MinRootItems:-1===t.indexOf("has-ellipsis")&&-1===t.indexOf("has-sidemenu"))},e.prototype.updateVisible=function(t){t||(this.isWidthCalculationLocked=!0),this.item.updateVisible(t),t&&(this.isWidthCalculationLocked=!1)},e}(w),k=function(t){function e(e,i){t.call(this,e,i)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getName=function(){return"ellipsis"},e.prototype.updateState=function(e){t.prototype.updateState.call(this,e),this.updateVisible(this.item.IsDisplayed.value)},e.prototype.updateVisible=function(t){t||(this.isWidthCalculationLocked=!0),this.item.updateVisible(t),t&&(this.isWidthCalculationLocked=!1)},e}(w),S=function(t){function e(e,i){t.call(this,e,i),this.itemBlocks=[],this.addItem(i)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.addItem=function(e){this.itemBlocks.push(new t(this.toolbar,e))},e.prototype.isVisible=function(){return this.itemBlocks.reduce((function(t,e){return t&&e.isVisible()}),!0)},e.prototype.getWidth=function(){return this.itemBlocks.reduce((function(t,e){return t+e.getWidth()}),0)},e.prototype.getNoTextWidth=function(){return this.itemBlocks.reduce((function(t,e){return t+e.getNoTextWidth()}),0)},e.prototype.updateVisible=function(t){this.itemBlocks.forEach((function(e){e.updateVisible(t)}))},e.prototype.tryAddItem=function(t){var e,i=this.itemBlocks[this.itemBlocks.length-1].item;return(e=i.GroupName===t.GroupName&&i.group===t.group&&i.AdaptivePriority.value===t.AdaptivePriority.value)&&this.addItem(t),e},e}(x),j=function(t){function e(e,i,o){t.call(this,e,i),this.item=o}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getName=function(){return"title"},e.prototype.getWidth=function(){return N(this.getElement(),!0)},e.prototype.getElement=function(){return this.item.getElement()},e}(C),L=function(t,e){this.element=t,this.toolbar=e,this.IsVisible=new s.Subject(this.defaultIsVisible()),this.IsVisible.subscribe(function(t){this.onIsVisibleChanged(t)}.bind(this),!0)};L.prototype.defaultIsVisible=function(){return!0},L.prototype.getElement=function(){return this.element},L.prototype.updateVisible=function(t){this.IsVisible.update(t)},L.prototype.onIsVisibleChanged=function(t){var e=this.getElement();e&&(t?this.show(e):this.hide(e))},L.prototype.show=function(t){t.classList.remove("ta-hidden-item")},L.prototype.hide=function(t){t.classList.add("ta-hidden-item")};var M=function(t){function e(e,i,o){t.call(this,e,o),this.group=i,this.IsDisplayed=new s.Subject(!0),this.Text=new s.Subject,this.GroupName=new s.Subject,this.AdaptivePriority=new s.Subject,this.Index=new s.Subject,this.IconCssClass=new s.Subject}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.onIsVisibleChanged=function(e){t.prototype.onIsVisibleChanged.call(this,e),this.group.onItemVisibleChanged()},e.prototype.getElement=function(){return document.querySelector(O("data-dxtoolbar-item-id",this.Id))},e.prototype.getParent=function(){var t=this.getElement();if(t&&t.parentNode)return t.parentNode},e.prototype.show=function(t){o.setStylesCore(t,"display","")},e.prototype.hide=function(t){o.setStylesCore(t,"display","none")},e}(L),_=function(t){function e(e,i){t.call(this,e,i),this.items=[]}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.addItem=function(t){this.items.push(t)},e.prototype.onItemVisibleChanged=function(){if(0!==this.items.length){var t=this.items.some((function(t){return t.IsVisible.value}));this.updateVisible(t)}},e.prototype.getElement=function(){if(0===this.items.length)return null;var t=o.findParentBySelector(this.items[0].getElement(),O("data-dxtoolbar-group-id",this.toolbar.id));return t||this.items[0].getParent()},e}(L),R=function(t){this.element=t,this._refreshTrigger=new s.Subject(!1),this.itemMap=new Map,this.groupMap=new Map,this.items=[]},T={RefreshTrigger:{configurable:!0}};T.RefreshTrigger.get=function(){return this._refreshTrigger.asTrigger((function(t){return!t}))},R.prototype.refresh=function(){this._refreshTrigger.update(this.refreshTrigger.value)},Object.defineProperties(R.prototype,T);var W=function(t){function e(e,i){t.call(this,e,i),this.toolbar=i,this.element=e,this.IsDisplayed=new s.Subject(!0),this.Text=new s.Subject}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.defaultIsVisible=function(){return null},e.prototype.show=function(t){o.setStylesCore(t,"display","")},e.prototype.hide=function(t){o.setStylesCore(t,"display","none")},e}(L),E=function(t){function e(e,i,o){t.call(this,e,i),this.toolbar=i,this.HasTitle=new s.Subject,this.Text=new s.Subject,this.Text.subscribe(function(t){this.HasTitle.update(null!=t&&""!==t)}.bind(this)),this.elementSelector=o}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getElement=function(){return document.querySelector(this.elementSelector)},e}(L),A=function(){this.IsLoading=!0};function B(t){return[t.item.Text,t.item.IsDisplayed,t.item.IconCssClass]}function N(t,e){var i=t?Math.ceil(t.offsetWidth+(e?0:V(t))):0;if(t){if(t.parentElement.lastElementChild===t){var n=o.getCurrentStyle(t.parentElement);i+=o.pxToInt(n.marginRight)}if(t.parentElement.firstElementChild===t){var r=o.getCurrentStyle(t.parentElement);i+=o.pxToInt(r.marginLeft)}}return i}function V(t){return e=t,n=i||o.getCurrentStyle(e),o.pxToInt(n.marginLeft)+o.pxToInt(n.marginRight);var e,i,n}function O(t,e){return"["+t+"="+e+"]"}A.prototype.init=function(t,e,i){this.isLayoutCalculated=!1;var n=i,r=t.dataset.dxtoolbarId,s=O("data-dxtoolbar-title-id",r),c=O("data-dxtoolbar-ellipses-id",r),l=document.querySelector(c),p=this.toolbar=new R(t),h=p.groupMap;p.id=r,Array.from(e.items).forEach((function(t,e){var i=document.querySelector(O("data-dxtoolbar-item-id",t.id)),n=o.findParentBySelector(i,O("data-dxtoolbar-group-id",r)),s=null;h.has(n)?s=h.get(n):(s=new _(n,p),h.set(n,s));var u=new M(i,s,p);u.Text.update(t.text),u.GroupName.update(t.groupName),u.AdaptivePriority.update(t.adaptivePriority),u.IconCssClass.update(t.iconCssClass),u.IsDisplayed.update(t.visible),u.Index.update(t.index),u.Id=t.id,p.itemMap.set(u.Id,u),p.items.some((function(t){return t.Index.value===u.Index.value}))||(s.addItem(u),p.items.push(u))})),p.CanHideRootItems=e.canHideRootItems,p.CanCollapseToIcons=e.canCollapseToIcons,p.MinRootItems=e.minRootItems,p.ItemSize=e.itemSize,p.RenderMode=e.renderMode;var d=new a([],(function(t){}));p.title=new E(p.title,p,s),d.add(new j(p,p.title,p.title)),d.addRange(this.getItemsBlocks(p,new a(Array.from(h.values()),(function(){}))));var m=new W(l,p);m.Id=e.adaptiveMenuModel.id,d.add(new k(p,m)),p.ellipses=m;var y=f.contextItem(d),g=this.Model=new v(function(e){if(!this.isLayoutCalculated){this.isLayoutCalculated=!0;var i=p.element;o.calculateStyles(function(){var t=i.querySelector(".btn-toolbar");this.updateControlStyles(p,Math.ceil(!this.IsLoading&&t?t.offsetHeight:i.offsetHeight)),this.IsLoading=!1}.bind(this))}var r=p.element.querySelector(".btn-toolbar")||p.element;if(e.stateName.indexOf("no-item-text")>-1?o.addClassNameToElement(r,"no-item-text"):o.removeClassNameFromElement(r,"no-item-text"),o.removeClassNameFromElement(t,"dxbs-loading"),!o.isRemovedFromDOM(t)){var s=p.items.concat(p.ellipses).map((function(t){return{Id:t.Id,IsVisible:t.IsVisible.value}}));n.invokeMethodAsync("OnModelUpdated",Array.from(s)).catch((function(e){o.isRemovedFromDOM(t)||u.error(e)}))}}.bind(this));g.defaultLayer((function(t){switch(t.getName()){case"item":return f.fullWidthItem;case"title":return f.titleItem}return f.hiddenItem}),(function(){return!0})),g.sequentialTransitionLayer("has-ellipsis",(function(t){switch(t.getName()){case"ellipsis":return f.fullWidthSystemItem;case"item":return y}}),(function(){return p.CanHideRootItems&&p.MinRootItems>0})),g.simultaneousTransitionLayer("no-item-text",(function(t){switch(t.getName()){case"item":return f.noTextItem;case"ellipsis":return f.hiddenItem}}),(function(){return p.CanCollapseToIcons})),g.sequentialTransitionLayer(p.CanCollapseToIcons?"no-item-text has-ellipsis":"has-ellipsis",(function(t){switch(t.getName()){case"item":return y;case"ellipsis":return f.fullWidthSystemItem}}),(function(){return p.CanHideRootItems})),g.initialize(d,p.element.querySelector(".btn-toolbar")||p.element,function(t){this.height!==t.height&&(this.isLayoutCalculated=!1,this.height=t.height),this.layoutModel.updateLayout()}.bind(this)),this.layoutModel=g},A.prototype.reinit=function(t,e){this.reinitRequested||(this.reinitRequested=!0,o.RequestAnimationFrame(function(){this.resetToDefault(),this.disposeModel(),o.RequestAnimationFrame(function(){this.reinitRequested=!1,this.init(t.mainElement,t,e)}.bind(this))}.bind(this)))},A.prototype.resetToDefault=function(){this.layoutModel.resetToDefault()},A.prototype.update=function(t,e){var i=this,o=!1,n=!1;this.toolbar.CanHideRootItems!==t.canHideRootItems&&(this.toolbar.CanHideRootItems=t.canHideRootItems,o=!0),this.toolbar.CanCollapseToIcons!==t.canCollapseToIcons&&(this.toolbar.CanCollapseToIcons=t.canCollapseToIcons,o=!0),this.toolbar.MinRootItems!==t.minRootItems&&(this.toolbar.MinRootItems=t.minRootItems,o=!0),this.toolbar.ItemSize!==t.itemSize&&(this.toolbar.ItemSize=t.itemSize,n=!0),this.toolbar.RenderMode!==t.renderMode&&(this.toolbar.RenderMode=t.renderMode,n=!0),this.toolbar.title.Text.update(t.title);var r,s,u=Array.from(t.items).map((function(t){return t.id})),a=Array.from(this.toolbar.itemMap.values()).map((function(t){return t.Id}));if(n=n||!((r=u).length===(s=a).length&&r.every((function(t,e){return t===s[e]}))))return this.reinit(t,e),void 0;Array.from(t.items).forEach((function(t,e){var o=i.toolbar.itemMap.get(t.id);o&&(o.Text.update(t.text),o.GroupName.update(t.groupName),o.AdaptivePriority.update(t.adaptivePriority),o.Index.update(t.index),o.IconCssClass.update(t.iconCssClass),o.IsDisplayed.update(t.visible))})),o&&this.layoutModel.forceUpdate()},A.prototype.disposeModel=function(){this.layoutModel&&this.layoutModel.dispose()},A.prototype.dispose=function(){this.disposeModel()},A.prototype.getItemsBlocks=function(t,e){return e.selectMany((function(t){return t.items})).reduce(function(e,i){return e.group&&e.group.tryAddItem(i)?e:i.GroupName?{group:e.blocks[e.blocks.length]=new S(t,i),blocks:e.blocks}:{group:null,blocks:e.blocks.concat([new x(t,i)])}}.bind(this),{blocks:[],group:null}).blocks.sort((function(t,e){return t.item.AdaptivePriority.value-e.item.AdaptivePriority.value})).map((function(t,e){return t.index=e,t}))},A.prototype.updateControlStyles=function(t,e){o.setStylesCore(t.element,"height",e+"px")};var P=new Map;function q(t,e,i){var s=o.ensureElement(t);if(null!==s){n.disposeEvents(s);var u=P.get(s);u?u.update(e,i):((u=new A).init(s,e,i),P.set(s,u));var a=s.querySelector(".btn-toolbar")||s;return r.initFocusHidingEvents(a),Promise.resolve("ok")}}function H(t){if(t=o.ensureElement(t)){n.disposeEvents(t);var e=P.get(t);e&&(e.dispose(),P.delete(t))}return Promise.resolve("ok")}i.default={init:q,dispose:H},i.dispose=H,i.init=q}),["cjs-chunk-c5286524.js","cjs-chunk-0da7e9be.js","cjs-dom-utils-d155391a.js","cjs-chunk-ad620f3e.js","cjs-chunk-d0f692d0.js","cjs-chunk-96905969.js","cjs-focus-utils-48b0e7fd.js","cjs-chunk-62a77fef.js"]);
