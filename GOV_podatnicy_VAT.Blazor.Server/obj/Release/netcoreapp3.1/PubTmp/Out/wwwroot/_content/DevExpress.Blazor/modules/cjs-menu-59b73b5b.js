DxBlazorInternal.define("cjs-menu-59b73b5b.js",(function(e,t,i){e("./cjs-chunk-c5286524.js"),e("./cjs-chunk-0da7e9be.js");var s=e("./cjs-dom-utils-d155391a.js"),n=e("./cjs-chunk-d0f692d0.js"),a=new Map;function o(e,t,i){var n=s.ensureElement(e);if(null!==n){var o=a.get(n);o||(o=new l,a.set(n,o)),o.init(n,t,i)}}var l=function(){this.itemsOffset=0,this.itemsWidth=0,this.itemsMinWidth=0,this.items=[]};l.prototype.init=function(e,t,i){var n=this;if(this.mainElement=e,this.sizeChanged&&(s.unsubscribeElement(this.sizeChanged),this.sizeChanged=null),t.canCollapse&&(t.collapseToIcons||t.collapseToIconsAll||t.collapseToHamburgerMenu)){this.currentWidth=e.offsetWidth,this.menu||(this.menu=new r),this.menu.update(t),this.updateMenuItems(t.items),t.isCollapsed||(this.menu.isVertical?(this.itemsOffset=0,this.itemsWidth=Math.max.apply(Math,this.items.map((function(e){return e.width}))),this.itemsMinWidth=0,this.collapseToHamburgerWidth=-1):(this.itemsOffset=this.calculateItemsOffset(e),t.calculateItemsWidth&&(this.itemsWidth=this.calculateItemsWidth(),this.itemsMinWidth=this.calculateItemsMinWidth()),this.collapseToHamburgerWidth=this.menu.collapseToIcons||this.menu.collapseToIconsAll?this.itemsMinWidth+this.itemsOffset:this.itemsWidth+this.itemsOffset)),this.sizeChanged=s.subscribeElementContentSize(e,(function(e){return n.resizeMenuItemsByWidth(e.width,i)})),this.resizeMenuItemsByWidth(e.offsetWidth,i);var a=e.querySelector("ul.invisible");a&&s.toggleCssClass(a,"invisible",!1)}else this.increaseAllItems();s.toggleCssClass(this.mainElement,"dx-menu-loading",!1)},l.prototype.dispose=function(){this.sizeChanged&&s.unsubscribeElement(this.sizeChanged)},l.prototype.updateMenuItems=function(e){var t=this,i=[];e&&Array.from(e).forEach((function(e){var s=t.items.find((function(t){return t.id===e.id}));if(!s){var n=t.mainElement.querySelector("[data-dxmenu-item-id="+e.id+"]");s=new h(n)}i.push(s),s.update(e),!s.needUpdateSizes&&s.textElement||t.updeteMenuItemSizes(s)})),this.items=i,this.items.sort((function(e,t){return e.adaptivePriority-t.adaptivePriority}))},l.prototype.updeteMenuItemSizes=function(e){var t=e.element.querySelector("div.dx-menu-item-text-container"),i=s.getCurrentStyle(e.element),n=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)+parseFloat(i.marginLeft)+parseFloat(i.marginRight),a=0,o=e.element.children[0];if(o){i=s.getCurrentStyle(o),n+=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)+parseFloat(i.marginLeft)+parseFloat(i.marginRight);for(var l=0;l<o.children.length;l++){var r=o.children[l],h=r.offsetWidth;n+=h,r.isSameNode(t)&&(a=h)}}e.updateSizes(t,n,a)},l.prototype.resizeMenuItemsByWidth=function(e,t){if(this.menu.isCollapsed)(e>this.collapseToHamburgerWidth||!this.menu.collapseToHamburgerMenu)&&t.invokeMethodAsync("OnMenuCollapse",!1);else{var i=e-this.currentWidth;if(this.menu.isVertical)this.menu.collapseToIconsAll&&(i<=0&&this.itemsWidth>e?this.reduceAllItems():this.itemsWidth<e&&this.increaseAllItems());else{if(this.menu.collapseToIcons){var s=this.itemsOffset;this.items.forEach((function(e){s+=e.width,e.canIncrease()&&(s-=e.textWidth)})),i<=0&&s>e?this.reduceItems(e,s):i>=0&&this.increaseItems(e,s)}else if(this.menu.collapseToIconsAll){var n=this.itemsWidth+this.itemsOffset;i<=0&&n>=e?this.reduceAllItems():i>=0&&n<e&&this.increaseAllItems()}else this.increaseAllItems();this.menu.collapseToHamburgerMenu&&i<=0&&e<this.collapseToHamburgerWidth&&t.invokeMethodAsync("OnMenuCollapse",!0)}}this.currentWidth=e},l.prototype.reduceItems=function(e,t){for(var i=this.items.length-1;i>=0&&t>e;i--){var s=this.items[i];s.canReduce()&&(s.hideTextElement(),t-=s.textWidth)}},l.prototype.increaseItems=function(e,t){for(var i=0;i<this.items.length;i++){var s=this.items[i];if(s.canIncrease()){if(t+s.textWidth>e)break;s.showTextElement(),t+=s.textWidth}}},l.prototype.reduceAllItems=function(){for(var e=0;e<this.items.length;e++){var t=this.items[e];t.canReduce()&&t.hideTextElement()}},l.prototype.increaseAllItems=function(){for(var e=0;e<this.items.length;e++){var t=this.items[e];t.canIncrease()&&t.showTextElement()}},l.prototype.calculateItemsOffset=function(e){var t=e.querySelector(".dxbs-menu ul.nav");return t?t.offsetLeft-e.offsetLeft:0},l.prototype.calculateItemsWidth=function(){var e=0;return this.items.forEach((function(t){return e+=t.width})),e},l.prototype.calculateItemsMinWidth=function(){var e=0;return this.items.forEach((function(t){e+=t.width,t.canCollapse()&&(e-=t.textWidth)})),e};var r=function(){};r.prototype.update=function(e){this.isVertical=e.isVertical,this.isCollapsed=e.isCollapsed,this.canCollapse=e.canCollapse,this.collapseToIcons=e.collapseToIcons,this.collapseToIconsAll=e.collapseToIconsAll,this.collapseToHamburgerMenu=e.collapseToHamburgerMenu};var h=function(e){this.element=e,this.needUpdateSizes=!0};function c(e){e.currentTarget.addEventListener("focusin",u)}function u(e){e.currentTarget.removeEventListener("focusin",u),e.currentTarget.blur()}h.prototype.update=function(e){this.id=e.id,this.canCrop=e.canCrop,this.adaptivePriority=e.adaptivePriority},h.prototype.updateSizes=function(e,t,i){this.needUpdateSizes=!1,this.width=t,this.textWidth=i,this.textElement=e},h.prototype.canCollapse=function(){return this.canCrop&&this.textElement},h.prototype.canReduce=function(){return this.canCollapse()&&!s.elementHasCssClass(this.textElement,"dx-menu-text-hidden")},h.prototype.canIncrease=function(){return this.canCollapse()&&s.elementHasCssClass(this.textElement,"dx-menu-text-hidden")},h.prototype.showTextElement=function(){s.toggleCssClass(this.textElement,"dx-menu-text-hidden",!1)},h.prototype.hideTextElement=function(){s.toggleCssClass(this.textElement,"dx-menu-text-hidden",!0)},i.default={init:o,dispose:function(e){(e=s.ensureElement(e))&&n.disposeEvents(e);var t=a.get(e);return t&&(t.dispose(),a.delete(e)),Promise.resolve("ok")},addNavItemClickHandler:function(e){e.addEventListener("mousedown",c)},resetFocusForDropDownItem:function(){document.activeElement&&"A"===document.activeElement.tagName&&document.activeElement.classList.contains("dropdown-item")&&document.activeElement.blur()}},i.init=o}),["cjs-chunk-c5286524.js","cjs-chunk-0da7e9be.js","cjs-dom-utils-d155391a.js","cjs-chunk-d0f692d0.js"]);
